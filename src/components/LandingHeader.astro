---
import { Image } from "astro:assets";
import logo from "../assets/graficonta_logo_bw.svg";
import MenuButton from "./MenuButton.astro";
---

<header>
  <nav class="fixed start-0 top-0 z-20 w-full pb-2">
    <div
      id="graficonta-header-bg"
      class="bg-gradient-to-b from-blue-800 via-blue-800 to-blue-800/0 pb-4">
      <div
        class="mx-auto flex max-w-screen-xl flex-wrap items-center justify-around sm:justify-between gap-y-4 px-3 sm:px-6 py-4">
        <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse">
          <Image src={logo} alt="Logo de Graficonta" height="36" />
        </a>
        <div
          class="inline-flex space-x-3 md:order-2 md:space-x-0 rtl:space-x-reverse">
          <button
            type="button"
            class="box-border mx-4 rounded-base border border-transparent bg-white px-3 py-2 text-sm leading-5 font-semibold shadow-xs hover:bg-gray-400 focus:ring-4 focus:ring-gray-400 focus:outline-none">
            Contáctanos
          </button>
          <button
            data-collapse-toggle="navbar-cta"
            type="button"
            class="inline-flex h-9 w-9 items-center justify-center rounded-base p-2 text-sm text-white hover:bg-white hover:text-gray-400 focus:ring-2 focus:ring-neutral-tertiary focus:outline-none md:hidden"
            aria-controls="navbar-cta"
            aria-expanded="false">
            <span class="sr-only">Abrir menú</span>
            <svg
              class="h-6 w-6"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              viewBox="0 0 24 24">
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-width="2"
                d="M5 7h14M5 12h14M5 17h14">
              </path>
            </svg>
          </button>
        </div>
        <div
          class="hidden w-full items-center justify-between md:order-1 md:flex md:w-auto"
          id="navbar-cta">
          <ul
            class="mt-4 flex flex-col p-4 font-medium md:mt-0 md:flex-row md:space-x-8 md:border-0 md:p-0 rtl:space-x-reverse">
            <li>
              <a
                href="#"
                class="block rounded px-3 py-2 text-white md:bg-transparent md:p-0 md:hover:text-fg-brand"
                aria-current="page">
                Inicio
              </a>
            </li>
            <li>
              <a
                href="#"
                class="hover:bg-neutral-tertiar block rounded px-3 py-2 text-white md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-fg-brand md:dark:hover:bg-transparent">
                Nosotros
              </a>
            </li>
            <li>
              <a
                href="#"
                class="hover:bg-neutral-tertiar block rounded px-3 py-2 text-white md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-fg-brand md:dark:hover:bg-transparent">
                Servicios
              </a>
            </li>
            <li>
              <a
                href="#"
                class="hover:bg-neutral-tertiar block rounded px-3 py-2 text-white md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-fg-brand md:dark:hover:bg-transparent">
                Galeria
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>

<style>
  #graficonta-header-bg {
    background-size: 100% 200%;
    background-repeat: no-repeat;
    animation: header-scroll linear both;
    animation-timeline: scroll();
    animation-range: 0 120px;
  }
</style>

<!-- <header
  id="landing-header"
  class="fixed z-40 w-full bg-blue-800 px-20 py-4 transition-all duration-500 ease-in-out">
  <div class="flex items-center justify-between">
    <div class="flex flex-grow basis-0"></div>
    <nav>
      <ul
        class="hidden text-white md:flex [&>li>a]:inline-block [&>li>a]:px-4 [&>li>a]:py-2 [&>li>a]:hover:text-gray-400">
        <li><a href="#">Inicio</a></li>
        <li><a href="#">Nosotros</a></li>
        <li><a href="#">Galeria</a></li>
        <li><a href="#">Servicios</a></li>
      </ul>
    </nav>
    <div class="flex flex-grow basis-0 justify-end">
      <a
        href="#"
        class="hidden place-content-center rounded-md bg-white px-6 py-2 font-bold hover:bg-gray-400 md:flex">
        Contáctanos
      </a>
    </div>
    <MenuButton />
  </div>
</header>

<script>
  const header = document.getElementById("landing-header") as HTMLElement;

  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      header.classList.remove("py-4");
      header.classList.add("px-32", "py-3", "opacity-85");
    } else {
      header.classList.add("py-4");
      header.classList.remove("px-32", "py-3", "opacity-85");
    }
  });
</script> -->
